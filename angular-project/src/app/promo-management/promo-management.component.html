<div *ngIf="isLoading" class="overlay">
  <mat-progress-spinner
    class="full-screen-spinner"
    diameter="50"
    mode="indeterminate"
  ></mat-progress-spinner>
</div>
<div>
  <div class="action-wrapper">
    <button
      mat-raised-button
      class="add-promo-button"
      (click)="openAddDialog()"
    >
      Add Promo
    </button>

    <div class="search-bar-container">
      <input type="text" class="search-bar" [formControl]="searchInputControl" placeholder="Search here" />
    </div>
  </div>

  <div *ngIf="Promos.length > 0; else notFound" class="promo-container">
    <div *ngFor="let promo of Promos">
      <app-promo-card
        [promo]="promo"
        (promoChanged)="getAllPromo()"
      ></app-promo-card>
    </div>
  </div>

  <ng-template #notFound>
    <div class="not-found-message">
      <div class="flex-container">
        <mat-icon>error</mat-icon>
        <span>Promo Not Found</span>
      </div>
    </div>
  </ng-template>

  <div class="pagination-wrapper">
    
    <div class="select-pagination-container">
      <p>Show:</p>
      <select
        [(ngModel)]="limit"
        (ngModelChange)="updateLimit()"
        name=""
        id=""
        class="select-pagination"
      >
        <option value="2">2</option>
        <option value="5">5</option>
        <option value="10">10</option>
      </select>
    </div>

    <div class="manual-pagination">
      <button
        mat-button
        style="color: black"
        (click)="previousPage()"
        [disabled]="page === 0"
        [ngClass]="{ 'disabled-button': page === 0 }"
      >
        Previous
      </button>
      <span
        style="
          color: black;
          font-weight: 600;
          padding-left: 1vw;
          padding-right: 1vw;
        "
        >{{ page + 1 }}
      </span>
      <button
        mat-button
        style="color: black"
        (click)="nextPage()"
        [disabled]="!hasNextPage"
        [ngClass]="{ 'disabled-button': !hasNextPage }"
      >
        Next
      </button>
    </div>
  </div>
</div>
